<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Envoi de photo par e-mail</title>
</head>
<body>
    <h2>Envoyer une photo par e-mail</h2>
    <form action="" method="post" enctype="multipart/form-data">
        <input type="file" name="photo" accept="image/*">
        <input type="submit" name="submit" value="Envoyer">
    </form>

    <?php
    if (isset($_POST['submit'])) {
        // Adresse e-mail de destination
        $toEmail = 'raphaelpotie7@gmail.com';

        // Sujet de l'e-mail
        $subject = 'Nouvelle photo envoyée';

        // Contenu de l'e-mail
        $message = 'Veuillez trouver la photo ci-jointe.';

        // Chemin du fichier temporaire
        $fileTmpPath = $_FILES['photo']['tmp_name'];

        // Nom du fichier
        $fileName = $_FILES['photo']['name'];

        // Type de fichier
        $fileType = $_FILES['photo']['type'];

        // Vérifier si le fichier est bien une image
        if (exif_imagetype($fileTmpPath) !== false) {
            // Lecture du contenu du fichier
            $content = file_get_contents($fileTmpPath);

            // Encodage base64 du contenu du fichier
            $contentEncoded = chunk_split(base64_encode($content));

            // Création de l'en-tête pour l'e-mail
            $headers = "From: sender@example.com\r\n";
            $headers .= "Reply-To: sender@example.com\r\n";
            $headers .= "Content-Type: multipart/mixed; boundary=\"PHP-mixed-".md5(time())."\"";

            // Construction du message avec la pièce jointe
            $message = "--PHP-mixed-".md5(time())."\r\n";
            $message .= "Content-Type: multipart/alternative; boundary=\"PHP-alt-".md5(time())."\"\r\n\r\n";
            $message .= "--PHP-alt-".md5(time())."\r\n";
            $message .= "Content-Type: text/plain; charset=\"iso-8859-1\"\r\n";
            $message .= "Content-Transfer-Encoding: 7bit\r\n\r\n";
            $message .= "Veuillez trouver la photo ci-jointe.\r\n";
            $message .= "--PHP-alt-".md5(time())."\r\n";
            $message .= "Content-Type: ".$fileType."; name=\"".$fileName."\"\r\n";
            $message .= "Content-Transfer-Encoding: base64\r\n";
            $message .= "Content-Disposition: attachment\r\n\r\n";
            $message .= $contentEncoded."\r\n";
            $message .= "--PHP-mixed-".md5(time())."--";

            // Envoi de l'e-mail avec la pièce jointe
            if (mail($toEmail, $subject, $message, $headers)) {
                echo "<p>La photo a été envoyée avec succès.</p>";
            } else {
                echo "<p>Une erreur s'est produite lors de l'envoi de l'e-mail.</p>";
            }
        } else {
            echo "<p>Le fichier n'est pas une image valide.</p>";
        }
    }
    ?>
</body>
</html>


<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
  <style>
    /* Styles pour le menu */
    .menu {
      background-color: #333;
      overflow: hidden;
    }

    .menu ul {
      list-style-type: none;
      margin: 0;
      padding: 0;
    }

    .menu ul li {
      float: left;
    }

    .menu ul li a {
      display: block;
      color: white;
      text-align: center;
      padding: 14px 16px;
      text-decoration: none;
    }

    .menu ul li:hover {
      background-color: #555;
    }

    .menu ul li:hover ul {
      display: block;
    }

    .menu ul li ul {
      display: none;
      position: absolute;
      background-color: #333;
      min-width: 160px;
    }

    .menu ul li ul li {
      float: none;
    }

    .menu ul li ul li a {
      padding: 12px 16px;
    }

    .content {
      padding: 20px;
    }
  </style>
</head>
<body>

<nav class="menu">
  <ul>
    <li><a href="index.html">Acceuil</a></li>
    <li><a href="soon">Services</a>
      <ul>
        <li><a href="films.html">Films</a></li>
        <li><a href="serie/SERp.html">Séries</a></li>
	 <li><a href="services/Panime">Anime</a></li>
        <li><a href="services/AdminOnly.html">Admin</a></li>
      </ul>
    </li>
    <li><a href="services/propos.html">À Propos</a></li>
    <li><a href="https://github.com/usedzqd17/sunflow/issues/new">Contact</a></li>
  </ul>
</nav>

<div class="content">
  <!-- Le contenu de votre page vient ici -->
</div>

</body>
</html>



<html lang="fr">
<head>
  <meta charset="UTF-8">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Je respecte tout aussi les droits d'auteurs mais je m'y permet quand même</title>
</head>
<body>
    <!-- Le contenu de votre page va ici -->
</body>
</html>
<p>Je respecte tout aussi les droits d'auteurs mais je m'y permet quand même</p>




